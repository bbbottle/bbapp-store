{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["export default {\n  name: 'curl',\n  handler: (shell, args) => {\n    const err = shell.shell.chalk.red;\n    const green = shell.shell.chalk.green;\n    const getText = r => r.text();\n    const printText = t => shell.print(t);\n    const printEmptyLine = () => shell.printLine('');\n    const showUsageAndExample = () => {\n      return Promise.all([\n        shell.printLine('Usage: curl <URL>'),\n        shell.printLine(`Example: ${green('curl https://api.zjh.im/store/apps')}`),\n      ])\n    }\n    const showHelpForError = (error) => {\n      return Promise.all([\n        shell.printLine(err(error)),\n        printEmptyLine(),\n        showUsageAndExample()\n      ])\n    }\n\n    if (!args[0]) {\n      return showHelpForError('Syntax Error.');\n    }\n\n    try {\n      new URL(args[0])\n    } catch (e) {\n      return showHelpForError('Invalid URL.');\n    }\n\n    return fetch(args[0])\n      .then(getText)\n      .then(printText)\n      .then(printEmptyLine)\n  }\n}\n"],"names":["name","handler","shell","args","err","chalk","red","green","printEmptyLine","printLine","showHelpForError","error","Promise","all","URL","e","fetch","then","r","text","t","print"],"mappings":"mFAAe,CACbA,KAAM,OACNC,QAAS,SAACC,EAAOC,OACTC,EAAMF,EAAMA,MAAMG,MAAMC,IACxBC,EAAQL,EAAMA,MAAMG,MAAME,MAG1BC,EAAiB,kBAAMN,EAAMO,UAAU,KAOvCC,EAAmB,SAACC,UACjBC,QAAQC,IAAI,CACjBX,EAAMO,UAAUL,EAAIO,IACpBH,IARKI,QAAQC,IAAI,CACjBX,EAAMO,UAAU,qBAChBP,EAAMO,6BAAsBF,EAAM,iDAWjCJ,EAAK,UACDO,EAAiB,yBAIpBI,IAAIX,EAAK,IACb,MAAOY,UACAL,EAAiB,uBAGnBM,MAAMb,EAAK,IACfc,MA5Ba,SAAAC,UAAKA,EAAEC,UA6BpBF,MA5Be,SAAAG,UAAKlB,EAAMmB,MAAMD,MA6BhCH,KAAKT"}