System.register(["react","classnames","prop-types","rxjs","rxjs/operators","immer"],(function(e){"use strict";var t,n,r,o,i,a,s,c,u,l,d,p,f,h;return{setters:[function(e){t=e.default,n=e.createElement,r=e.useState,o=e.useEffect},function(e){i=e.default},function(e){a=e.default},function(e){s=e.fromEvent},function(e){c=e.filter,u=e.windowWhen,l=e.map,d=e.takeUntil,p=e.skip,f=e.mergeAll},function(e){h=e.produce}],execute:function(){function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _(e,t){return e(t={exports:{}},t.exports),t.exports}var x=v(_((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}))),b=v(_((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0}))),m=_((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}));v(m);var w=v(_((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}))),y=_((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),g=v(y),B=_((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0})),P=v(B),O=v(_((function(e){var t=y.default;e.exports=function(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?B(e):n},e.exports.default=e.exports,e.exports.__esModule=!0}))),k=v(_((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})));function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return!t||"object"!=g(t)&&"function"!=typeof t?H(e):t}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".index-module_canvas__1uoln {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0; }\n  .index-module_canvas__1uoln .index-module_previewBox__CCpP_ {\n    position: absolute;\n    border: solid 1px #0078d7;\n    background: #b9d5f1; }\n  .index-module_canvas__1uoln .index-module_staticBoxContainer__1CnUk {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0; }\n  .index-module_canvas__1uoln .index-module_clearBtn__3St5Q {\n    position: absolute;\n    bottom: 50px;\n    right: 50px;\n    cursor: pointer;\n    z-index: 2; }\n");var I=function(){return null},W=function(e){D(r,t.PureComponent);var n=q(r);function r(e){var o;return A(this,r),j(H(o=n.call(this,e)),"resetPreviewBoxState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;o.setState((function(t){return e(t),{previewBoxStartX:0,previewBoxStartY:0,previewBoxWidth:0,previewBoxHeight:0}}),(function(){t()}))})),j(H(o),"setPreviewBoxStartPos",(function(e){var t=e.x,n=e.y;o.props.onPreviewStart(t,n),o.setState({previewBoxStartX:t,previewBoxStartY:n,previewBoxWidth:0,previewBoxHeight:0})})),j(H(o),"setPreviewBoxProps",(function(e){var t=e.x,n=e.y,r=o.state,i=r.previewBoxStartX,a=r.previewBoxStartY;o.setState({previewBoxWidth:t-i,previewBoxHeight:n-a,previewBoxEndX:t,previewBoxEndY:n})})),j(H(o),"initDrawingObservables",(function(e){var t=s(document,"mousemove"),n=s(e,"mousedown").pipe(c((function(t){return 0===t.button&&t.target===e}))),r=s(document,"mouseup");t.pipe(u((function(){return n})),l((function(e){return e.pipe(d(r))})),p(1),f()).subscribe(o.setPreviewBoxProps),n.subscribe(o.setPreviewBoxStartPos),r.subscribe(o.onDrawBoxDone)})),j(H(o),"onDrawBoxDone",(function(){o.resetPreviewBoxState((function(e){if(e.previewBoxWidth&&e.previewBoxWidth){var t=M(M({},e),{},{width:Math.abs(e.previewBoxWidth),height:Math.abs(e.previewBoxHeight),boxStyle:o.getPreviewBoxStyle()});o.props.onPreviewDone(t)}}))})),j(H(o),"getPreviewBoxStyle",(function(){var e=o.state,t=e.previewBoxStartX,n=e.previewBoxStartY,r=e.previewBoxEndX,i=e.previewBoxEndY,a=e.previewBoxWidth,s=e.previewBoxHeight,c={width:Math.abs(a),height:Math.abs(s)},u={left:a>=0?t:t+a,top:s>=0?n:n+s,startPos:[t,n],endPos:[r,i]};return Object.assign({position:"absolute"},u,c)})),j(H(o),"renderPreviewBox",(function(){var e=o.getPreviewBoxStyle();return e.width&&e.height?o.props.renderer?o.props.renderer(e):t.createElement("div",{style:e,className:"index-module_previewBox__CCpP_"}):null})),o.state={previewBoxStartX:0,previewBoxStartY:0,previewBoxWidth:0,previewBoxHeight:0,boxesProps:[]},o}return E(r,[{key:"componentDidUpdate",value:function(e,t,n){e.canvasDom!==this.props.canvasDom&&this.props.canvasDom&&this.initDrawingObservables(this.props.canvasDom)}},{key:"render",value:function(){return this.renderPreviewBox()}}]),r}();j(W,"propTypes",{onPreviewDone:a.func,onPreviewStart:a.func,renderer:a.func}),j(W,"defaultProps",{onPreviewDone:I,onPreviewStart:I,renderer:null});var Z=function(e){D(r,t.PureComponent);var n=q(r);function r(e){var t;return A(this,r),j(H(t=n.call(this,e)),"setBoxState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.setState((function(t){return h(t,(function(t){e(t.boxMap)}))}),(function(){n()}))})),j(H(t),"addBox",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};t.setBoxState((function(t){t[e]=n}),(function(){var n=t.state.boxMap;r(n[e])}))})),j(H(t),"removeBox",(function(e){t.setBoxState((function(t){delete t[e]}))})),j(H(t),"removeAllBoxes",(function(){t.setBoxState((function(e){}))})),j(H(t),"updateBox",(function(e,n){t.setBoxState((function(t){n(t[e])}))})),j(H(t),"listBoxes",(function(){var e=t.state.boxMap;return Object.getOwnPropertySymbols(e).map((function(t){return e[t]}))})),t.state={boxMap:{}},t}return E(r,[{key:"render",value:function(){return(0,this.props.children)({addBox:this.addBox,removeBox:this.removeBox,updateBox:this.updateBox,clearBoxes:this.removeAllBoxes,boxes:this.listBoxes()})}}]),r}();j(Z,"propTypes",{children:a.func.isRequired});var L=function(){return null},F=a.shape({left:a.number.isRequired,top:a.number.isRequired,height:a.number.isRequired,width:a.number.isRequired,position:a.string.isRequired}),V=a.shape({previewBoxStartX:a.number.isRequired,previewBoxStartY:a.number.isRequired,previewBoxWidth:a.number.isRequired,previewBoxHeight:a.number.isRequired,width:a.number.isRequired,height:a.number.isRequired,boxIndex:a.number.isRequired,boxStyle:F,remove:a.func.isRequired,update:a.func.isRequired}),Q=function(e){D(r,t.PureComponent);var n=q(r);function r(e){var o;return A(this,r),j(H(o=n.call(this,e)),"getPosAfterAttach",(function(e,t){var n=o.props.attachLineGutter;if(!n||"number"!=typeof n||n<0)return e;if(t)return e+(n-e%n);var r=e%n;return e-r<0?e:e-r})),j(H(o),"handleClear",(function(e){e.stopPropagation(),o.props.clearBoxes()})),j(H(o),"renderPreviewBox",(function(){var e=o.props,n=e.addBox,r=e.removeBox,i=e.updateBox,a=e.boxes,s=e.onBeforeAddBox,c=e.onAfterAddBox,u=e.boxValidator,l=e.onPreviewStart,d=e.onPreviewDone;return t.createElement(W,{renderer:o.props.previewBoxRenderer,canvasDom:o.canvasDom,onPreviewStart:l,onPreviewDone:function(e){var t;d(e);var o=a.length,l=Symbol();if(u(e)){var p=M(M({},e),{},(j(t={id:l},l,l),j(t,"createTime",Date.now()),j(t,"updateTime",Date.now()),j(t,"boxIndex",o),j(t,"remove",(function(){r(l)})),j(t,"update",(function(e){i(l,e)})),t));s(l,p),n(l,p,c)}}})})),j(H(o),"renderClearButton",(function(){var e=t.createElement("button",{onClick:o.handleClear,className:"index-module_clearBtn__3St5Q"},"reset");if(o.props.clearButtonRenderer)try{return o.props.clearButtonRenderer({clear:o.handleClear})}catch(t){return e}return e})),j(H(o),"renderStaticBoxes",(function(){var e=o.props,n=e.staticBoxRenderer,r=e.boxes.map((function(e){if(!e)return null;var r={key:e.createTime,style:M(M({},e.boxStyle),{},{width:o.getPosAfterAttach(e.boxStyle.width,!0),height:o.getPosAfterAttach(e.boxStyle.height,!0),left:o.getPosAfterAttach(e.boxStyle.left),top:o.getPosAfterAttach(e.boxStyle.top)})};return t.createElement("div",r,n(e))}));return t.createElement("div",{className:"index-module_staticBoxContainer__1CnUk",ref:function(e){o.canvasDom=e}},r)})),o}return E(r,[{key:"componentDidMount",value:function(){this.canvasDom&&this.setState({canvas:this.canvasDom})}},{key:"render",value:function(){return t.createElement("div",{className:"index-module_canvas__1uoln"},this.renderStaticBoxes(),this.renderPreviewBox(),this.renderClearButton())}}]),r}();j(Q,"propTypes",{staticBoxRenderer:a.func,previewBoxRenderer:a.func,clearButtonRenderer:a.func,attachLineGutter:a.number,boxValidator:a.func,onPreviewStart:a.func,onPreviewEnd:a.func,onAfterAddBox:a.func,addBox:a.func.isRequired,clearBoxes:a.func.isRequired,removeBox:a.func.isRequired,updateBox:a.func.isRequired,boxes:a.arrayOf(V).isRequired}),j(Q,"defaultProps",{boxValidator:function(){return!0},onAfterAddBox:L,staticBoxRenderer:L,onPreviewStart:L,onPreviewDone:L,clearButtonRenderer:null,previewBoxRenderer:null,attachLineGutter:0});var Y=function(e){return t.createElement(Z,null,(function(n){return t.createElement(Q,C({},e,n))}))};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var X=n("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h1.667v.833h6.666V3H13v1.667h-.833v6.666H13V13h-1.667v-.833H4.667V13H3v-1.667h.833V4.667H3V3zm8.167 1.833H4.833v6.334h6.334V4.833z",fill:"#000"});function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=n("path",{d:"M10.098 6.49H7.803V2h2.295a2.247 2.247 0 012.244 2.245 2.248 2.248 0 01-2.245 2.245zm-1.559-.735h1.559c.832 0 1.509-.678 1.509-1.51s-.677-1.509-1.51-1.509H8.54v3.019zm0 .736H6.246A2.247 2.247 0 014 4.245 2.248 2.248 0 016.245 2H8.54l-.001 4.49zM6.246 2.736c-.833 0-1.51.677-1.51 1.509 0 .832.677 1.51 1.51 1.51h1.558v-3.02H6.245zm2.293 7.509H6.246A2.247 2.247 0 014 8a2.247 2.247 0 012.245-2.245H8.54v4.49zM6.246 6.491c-.833 0-1.51.677-1.51 1.509 0 .832.678 1.51 1.51 1.51h1.558V6.49H6.244zM6.256 14A2.254 2.254 0 014 11.755a2.248 2.248 0 012.245-2.246l2.294.001v2.22A2.278 2.278 0 016.258 14zm-.011-3.755a1.511 1.511 0 00-1.51 1.51c0 .832.683 1.509 1.522 1.509.853 0 1.546-.688 1.546-1.534v-1.485H6.245zm3.851 0h-.048A2.247 2.247 0 017.804 8a2.247 2.247 0 012.245-2.245h.049A2.247 2.247 0 0112.341 8a2.247 2.247 0 01-2.245 2.245zm-.048-3.754c-.832 0-1.51.677-1.51 1.509 0 .832.678 1.51 1.51 1.51h.049c.832 0 1.51-.678 1.51-1.51s-.678-1.51-1.51-1.51h-.049z",fill:"#000"});function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $=n("path",{d:"M12 4l-8 8m8 0L4 4l8 8z",stroke:"#C4C4C4"});var ee=v(_((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),te=v(_((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),ne=_((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0}));v(ne);var re=_((function(e){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0}));v(re);var oe=_((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0}));v(oe);var ie=_((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}));v(ie);var ae=_((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));v(ae);var se=v(_((function(e){e.exports=function(e,t){return ne(e)||re(e,t)||ie(e,t)||ae()},e.exports.default=e.exports,e.exports.__esModule=!0})));function ce(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var ue="index_tickLoader__2E3oj",le="index_center__3vsX0";ce('.index_blinkDot__1ihAb {\n  animation-name: index_blink-dot__2qqwb;\n  animation-duration: 0.3s;\n  animation-iteration-count: infinite; }\n\n@keyframes index_blink-dot__2qqwb {\n  from {\n    color: #fff; }\n  to {\n    color: #6bcba8; } }\n\n.index_tickLoader__2E3oj {\n  display: inline-block; }\n  .index_tickLoader__2E3oj:before, .index_tickLoader__2E3oj:after {\n    content: "";\n    display: block;\n    width: 6px;\n    background: #51c49f;\n    height: 1px; }\n  .index_tickLoader__2E3oj:before {\n    margin-bottom: 5px;\n    animation: index_tick__2401c 0.5s infinite; }\n  .index_tickLoader__2E3oj:after {\n    animation: index_tick__2401c 0.5s infinite reverse; }\n\n.index_center__3vsX0 {\n  position: absolute;\n  top: 50%;\n  left: 50%; }\n\n@keyframes index_tick__2401c {\n  0% {\n    width: 6px;\n    background: #c2eade; }\n  50% {\n    width: 12px;\n    background: #51c49f; }\n  100% {\n    width: 6px;\n    background: #c2eade; } }\n');var de=function(e){var n=e.absCenter,r=e.style;return t.createElement("div",{style:r,className:i(ue,ee({},le,n))})},pe="style_cover__1gfNp",fe="style_previewer__3ixsT",he="style_previewBox__3p8qb",ve="style_active__35cu1";ce("/**** Colors ****/\n.style_cover__1gfNp {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1; }\n\n.style_previewer__3ixsT {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10000;\n  backdrop-filter: blur(2px) grayscale(100%); }\n\n.style_previewBox__3p8qb {\n  position: absolute;\n  border: solid 1px #bdbdbd;\n  background: #f2f2f2;\n  opacity: 1;\n  transition: opacity 0.3s, background 0.3s;\n  overflow: visible;\n  color: #bdbdbd; }\n  .style_previewBox__3p8qb:after {\n    min-width: 300px;\n    text-align: right;\n    content: attr(data-size);\n    display: block;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    padding: 5px 10px;\n    font-size: 10px; }\n\n.style_active__35cu1 {\n  border: solid 1px #9ddec9;\n  background: #f1fffa;\n  opacity: 0.9;\n  color: #82d5bb; }\n\n.style_toolbar__3V6pw {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 5px;\n  z-index: 10; }\n\n.style_delete__3m3Ng {\n  color: #999;\n  transition: color 0.3s;\n  border: none;\n  background: none;\n  outline: none;\n  cursor: pointer; }\n  .style_delete__3m3Ng.style_big__1YSBc {\n    font-size: 18px;\n    font-weight: bold; }\n  .style_delete__3m3Ng.style_black__3W29R {\n    color: black; }\n  .style_delete__3m3Ng.style_red__1ad9h, .style_delete__3m3Ng:hover {\n    color: #ff8888; }\n");var _e="token_green2__3vg_H",xe="token_docFont__8kqcK";function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}ce(".token_green1__2NmS7 {\n  color: #51c49f; }\n\n.token_green2__3vg_H {\n  color: #82d5bb; }\n\n.token_green3__2-Aun {\n  color: #9ddec9; }\n\n.token_green4__3_Dz6 {\n  color: #c2eade; }\n\n.token_green5__1EH4m {\n  color: #f1fffa; }\n\n.token_gray1__Eqv2j {\n  color: #333333; }\n\n.token_gray2__3BV3c {\n  color: #4f4f4f; }\n\n.token_gray3__1MAtA {\n  color: #828282; }\n\n.token_gray4__2JY8b {\n  color: #bdbdbd; }\n\n.token_gray5__1BMej {\n  color: #e0e0e0; }\n\n.token_gray6__3Z0wx {\n  color: #f2f2f2; }\n\n.token_white__28kB- {\n  color: #ffffff; }\n\n.token_black__3KfGF {\n  color: #000; }\n\n.token_docFont__8kqcK {\n  font-family: Chinese Quote, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif; }\n");var me="#ccc",we=function(e){w(r,e);var n=be(r);function r(){var e;x(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),ee(P(e),"renderXAxis",(function(){var n=se(e.props.originCoordinate,2)[1],r={position:"absolute",width:"100%",height:1,background:me,left:0,top:n,zIndex:0};return t.createElement("div",{style:r})})),ee(P(e),"renderYAxis",(function(){var n=se(e.props.originCoordinate,1)[0],r={position:"absolute",width:1,height:"100%",background:me,top:0,zIndex:0,left:n};return t.createElement("div",{style:r})})),e}return b(r,[{key:"render",value:function(){return t.createElement(t.Fragment,null,this.renderXAxis(),this.renderYAxis())}}]),r}(t.PureComponent);ee(we,"thick",1),ee(we,"propTypes",{originCoordinate:a.arrayOf(a.number.isRequired).isRequired});var ye=_((function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0}));v(ye);var ge=v(_((function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o=ye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0}))),Be=function(e){var n=e.style,r=void 0===n?{}:n,o=ge(e,["style"]),i=function(e){var t=e.fixedPointCoordinate,n=void 0===t?[]:t,r=e.quadrant,o=void 0===r?3:r,i=e.width,a=e.height,s=e.offset,c=void 0===s?0:s,u=e.originCalibrateValue,l=void 0===u?0:u,d=new Set([1,4]),p=new Set([1,2]),f=se(n,2),h=f[0],v=f[1],_=se(n,2),x=_[0],b=_[1];l&&(x=d.has(o)?h:h+l,b=p.has(o)?v+l:v);var m={width:i,height:a,position:"absolute"};return 1===o?(m.top=b-a-c,m.left=x+c,m):2===o?(m.left=x-i-c,m.top=b-a-c,m):3===o?(m.top=b+c,m.left=x-i-c,m):4===o?(m.left=x+c,m.top=b+c,m):void 0}(e);return t.createElement("div",te({},o,{style:Object.assign({},r,i)}),e.children)};Be.propTypes={width:a.number,height:a.number,style:a.shape({}),fixedPointCoordinate:a.arrayOf(a.number.isRequired),originCalibrateValue:a.number,quadrant:a.oneOf([1,2,3,4]),size:a.number,offset:a.number},Be.defaultProps={height:24,width:24,style:{},fixedPointCoordinate:[0,0],originCalibrateValue:0,offset:0};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={display:"flex",alignItems:"center",justifyContent:"center"},Ae=function(e){var n,r=e.cursorQuadrant,o=e.hostInfo,i=e.rectWidth,a=e.tickWidth,s=e.tickHeight,c=e.offset,u=void 0===c?0:c,l=e.children,d=e.style,p=void 0===d?{}:d,f=ge(e,["cursorQuadrant","hostInfo","rectWidth","tickWidth","tickHeight","offset","children","style"]),h=se(o.startPos,2),v=h[0],_=h[1],x=new Set([1,2]),b=new Set([2,3]).has(r)?-1*i+a/2:1*i-a/2,m=x.has(r)?u:-1*u;return t.createElement(Be,te({},f,{style:Oe(Oe({},p),ke),quadrant:(n=r,{1:4,2:3,3:2,4:1}[n]),width:a,height:s,fixedPointCoordinate:[v+b,_+m]}),l)};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je={display:"flex",alignItems:"center",justifyContent:"center"},Ce=function(e){var n=e.cursorQuadrant,r=e.hostInfo,o=e.rectHeight,i=e.tickWidth,a=e.tickHeight;e.offset;var s,c=e.children,u=e.style,l=void 0===u?{}:u,d=ge(e,["cursorQuadrant","hostInfo","rectHeight","tickWidth","tickHeight","offset","children","style"]),p=se(r.startPos,2),f=p[0],h=p[1],v=new Set([4,3]).has(n)?o-a/2:-1*o+a/2;return t.createElement(Be,te({},d,{style:Ee(Ee({},l),je),quadrant:(s=n,{1:2,2:1,3:4,4:3}[s]),width:i,height:a,fixedPointCoordinate:[f,h+v]}),c)},Re=function(e){var n=e.boxInfo,r=e.availableApp,o=e.cursorQuadrant,a={className:xe,hostInfo:n,offset:25,tickWidth:50,tickHeight:20,style:{zIndex:3},cursorQuadrant:o};return t.createElement("div",{className:i(fe)},t.createElement(Be,{className:i(he,_e,xe,ee({},ve,!r.isEmpty())),quadrant:o,originCalibrateValue:we.thick,fixedPointCoordinate:n.startPos,width:n.width,height:n.height}),e.children,t.createElement(Ae,te({},a,{rectWidth:n.width}),n.width),t.createElement(Ce,te({},a,{rectHeight:n.height}),n.height),t.createElement(we,{originCoordinate:n.startPos}))},Me="empty",De=[{id:Me,name:"empty",icon:function(e){return n("svg",K({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$)},component:function(){return null},description:"nothing",widthRange:[0,300],heightRange:[0,300]},{id:"fgm-design",name:"zjh.im design live",icon:function(e){return n("svg",U({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),J)},component:function(e){var n=e.width,o=e.height,i=e.active,a=r(!0),s=se(a,2),c=s[0],u=s[1];return t.createElement(t.Fragment,null,!i&&t.createElement("div",{className:pe}),t.createElement("iframe",{onLoad:function(){u(!1)},width:n,frameBorder:"none",height:o-38,style:{position:"absolute"},src:"https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FNqS0N6THcwmfvK3QIn9crW%2FHOME%3Fnode-id%3D0%253A1&chrome=DOCUMENTATION"}),c&&t.createElement(de,{absCenter:!0}))},description:"photo gallery",widthRange:[500,800],heightRange:[500,600]}],Te=function(e){var n=e.app,r=e.hostInfo,o=e.cursorQuadrant,i=n.isEmpty()?"#ddd":"#51c49f";return t.createElement(t.Fragment,null,t.createElement(Ae,{style:{opacity:.5},hostInfo:r,cursorQuadrant:o,rectWidth:n.livableZone.maxZone.width,tickWidth:24,tickHeight:24},n.renderIcon()),t.createElement(Be,{quadrant:o,fixedPointCoordinate:r.startPos,originCalibrateValue:1,width:n.livableZone.maxZone.width,height:n.livableZone.maxZone.height,style:{border:"dashed 1px ".concat(i)}}))},ze="window_windowTitleBar__2Mox4",He="window_halfTransparent__54tBO",Ne="window_windowOptionButton__3sLyD",qe="window_hoverAbsAfterAndBefore__8Tybp",Ie="window_disabledButton__1pOUF",We="window_topLayer__sloGB",Ze="window_noPointerEvent__1M8iy",Le="window_close__Wxn-s",Fe="window_minimize__2AFkc",Ve="window_zoom__3_-lT",Qe="window_windowOptionButtonGroup__ikkRJ",Ye="window_windowTitle__3o5Ay",Ge="window_window__xi6aJ",Xe="window_windowBody__3GpNr";ce('.window_windowTitleBar__2Mox4 {\n  display: flex; }\n\n.window_halfTransparent__54tBO {\n  opacity: 0.5; }\n\n.window_none__3_Qha {\n  display: none; }\n\n.window_windowOptionButton__3sLyD {\n  border: none;\n  outline: none;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: default !important; }\n\n.window_hoverAbsAfterAndBefore__8Tybp {\n  position: relative; }\n  .window_hoverAbsAfterAndBefore__8Tybp:hover:before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); }\n  .window_hoverAbsAfterAndBefore__8Tybp:hover:after {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); }\n\n.window_disabledButton__1pOUF {\n  background: #f2f2f2 !important;\n  pointer-events: none; }\n\n.window_topLayer__sloGB {\n  z-index: 1000; }\n\n.window_noPointerEvent__1M8iy {\n  pointer-events: none; }\n\n.window_close__Wxn-s {\n  background: #ff8888; }\n  .window_close__Wxn-s:hover:after, .window_close__Wxn-s:hover:before {\n    width: 7px;\n    height: 1px; }\n  .window_close__Wxn-s:hover:after {\n    transform: translate(-50%, -50%) rotate(45deg);\n    background: #6a3b3b; }\n  .window_close__Wxn-s:hover:before {\n    transform: translate(-50%, -50%) rotate(-45deg);\n    background: #333; }\n\n.window_minimize__2AFkc {\n  background: #fdd587; }\n  .window_minimize__2AFkc:hover:after {\n    width: 7px;\n    height: 1px;\n    background: #333; }\n\n.window_zoom__3_-lT {\n  background: #51c49f; }\n  .window_zoom__3_-lT:hover:after, .window_zoom__3_-lT:hover:before {\n    width: 7px;\n    height: 1px;\n    background: #333; }\n  .window_zoom__3_-lT:hover:before {\n    transform: translate(-50%, -50%) rotate(90deg); }\n\n.window_windowOptionButtonGroup__ikkRJ {\n  position: absolute;\n  margin: 13px;\n  width: 54px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 0 0 auto; }\n\n.window_windowTitle__3o5Ay {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.window_window__xi6aJ {\n  position: absolute;\n  background: #ffffff;\n  box-shadow: 0 4px 50px 10px rgba(0, 0, 0, 0.15);\n  border-radius: 10px;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  cursor: default;\n  transition: 0.3s; }\n\n.window_windowBody__3GpNr {\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow: hidden; }\n');var Ue="index-module_IconText__2dc-S",Je="index-module_icon__1b79U";ce(".index-module_IconText__2dc-S {\n  display: inline-flex;\n  align-items: center;\n  font-size: 12px; }\n\n.index-module_icon__1b79U {\n  display: flex;\n  margin-right: 5px; }\n");var Ke=function(e){return t.createElement("span",{className:i(Ue,e.className||""),style:{color:e.color||"black"},onClick:e.onClick||function(){return null}},t.createElement("span",{className:Je},e.icon),e.text||e.children)};function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var et=function(e){var n=e.className,r=e.onClick,o=e.disabled,a=e.title,s=i(n,qe,Ne,ee({},Ie,o));return t.createElement("button",{title:a,onClick:function(e){e.stopPropagation(),r(e)},className:s})},tt=function(e){w(r,e);var n=$e(r);function r(){var e;x(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),ee(P(e),"handleDragStart",(function(t){(e.props.onDragStart||function(){return null})(t)})),ee(P(e),"handleDragEnd",(function(t){(e.props.onDragEnd||function(){return null})(t)})),ee(P(e),"handleMove",(function(t){(e.props.onDrag||function(){return null})(t)})),e}return b(r,[{key:"componentDidMount",value:function(){this.dragObservable$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},r=s(document,"mousemove"),o=s(e,"mousedown").pipe(c((function(t){return 0===t.button&&t.target===e}))),i=s(document,"mouseup");return i.subscribe(n),o.subscribe(t),r.pipe(u((function(){return o})),l((function(e){return e.pipe(d(i))})),p(1),f())}(this.titleBar,this.handleDragStart,this.handleDragEnd),this.dragObservable$.subscribe(this.handleMove)}},{key:"render",value:function(){var e=this,n=function(){return null},r=this.props,o=r.onCloseBtnClick,a=void 0===o?n:o,s=r.onMinimizeBtnClick,c=void 0===s?n:s,u=r.onZoomBtnClick,l=void 0===u?n:u,d=r.icon,p=void 0===d?null:d,f=r.title,h=void 0===f?"":f,v=r.active;return t.createElement("div",{className:ze},t.createElement("div",{className:i(Ye,ee({},He,!v)),ref:function(t){e.titleBar=t}},t.createElement(Ke,{icon:p,text:h})),t.createElement("div",{className:Qe},t.createElement(et,{title:"close",disabled:!v,className:Le,onClick:a}),t.createElement(et,{title:"minimize",disabled:!v,className:Fe,onClick:c}),t.createElement(et,{title:"zoom",disabled:!v,className:Ve,onClick:l})))}}]),r}(t.PureComponent),nt=function(e){e.style;var n=e.children,a=e.onMinimizeBtnClick,s=e.onZoomBtnClick,c=e.onDidMount,u=void 0===c?function(){return null}:c,l=e.onClick,d=void 0===l?function(){return null}:l,p=e.onDragStart,f=void 0===p?function(){return null}:p,h=e.onDragEnd,v=void 0===h?function(){return null}:h,_=ge(e,["style","children","onMinimizeBtnClick","onZoomBtnClick","onDidMount","onClick","onDragStart","onDragEnd"]),x=r(!1),b=se(x,2),m=b[0],w=b[1];return o((function(){u()}),[]),t.createElement("div",{className:i(Ge,ee({},We,_.active)),onClick:d},t.createElement(tt,te({onMinimizeBtnClick:function(e){a&&a(e)},onZoomBtnClick:function(e){s&&s(e)},onDragStart:function(e){w(!0),f(e)},onDragEnd:function(e){w(!1),v(e)}},_)),t.createElement("div",{className:i(Xe,ee({},Ze,m))},n))};nt.TITLE_BAR_HEIGHT=38;var rt=function e(t,n){var r=this;x(this,e),ee(this,"isLargerThan",(function(e){return r.width>e.width&&r.height>e.height})),ee(this,"isSmallerThan",(function(e){return r.width<e.width&&r.height<e.height})),this.width=t,this.height=n},ot=function(){function e(t,n){x(this,e),this.minZone=t,this.maxZone=n}return b(e,null,[{key:"create",value:function(t,n){var r=se(t,2),o=r[0],i=r[1],a=se(n,2),s=a[0],c=a[1];return new e(new rt(o,s),new rt(i,c))}}]),e}(),it=function e(n,r,o,i,a,s){var c=this,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};x(this,e),ee(this,"canLiveIn",(function(e){return c.livableZone.minZone.isSmallerThan(e)&&c.livableZone.maxZone.isLargerThan(e)})),ee(this,"isEmpty",(function(){return c.id===Me})),ee(this,"minimize",(function(e){e.boxStyle.transition="width, height .3s",e.boxStyle.height=38,e.boxStyle.width=300})),ee(this,"zoomTo",(function(e,t){return function(n){n.boxStyle.width=e,n.boxStyle.height=t}})),ee(this,"move",(function(e,t){return function(n){var r=e/window.devicePixelRatio,o=t/window.devicePixelRatio;n.boxStyle.left+=r,n.boxStyle.top+=o}})),ee(this,"renderIcon",(function(){var e=c.icon;return t.createElement(e,null)})),ee(this,"active",(function(e){e.updateTime=Date.now()})),ee(this,"renderLivableZoneEdge",(function(e,n){return t.createElement(Te,{app:c,hostInfo:e,cursorQuadrant:n})})),ee(this,"render",(function(e){var n=c.Component,r=c.extras.isActive(c);return t.createElement(nt,{active:r,onClick:function(){c.extras.active(c),e.update(c.active)},onDrag:function(t){c.extras.active(c),e.update(c.move(t.movementX,t.movementY))},onMinimizeBtnClick:function(){c.minimized||(c.minimized=!0,c.originHeight=e.boxStyle.height,c.originWidth=e.boxStyle.width,e.update(c.minimize))},onZoomBtnClick:function(){c.minimized&&(c.minimized=!1,e.update(c.zoomTo(c.originWidth,c.originHeight)))},onCloseBtnClick:function(){e.remove(),c.extras.uninstall(c)},title:c.name,icon:c.renderIcon(),style:e.boxStyle},t.createElement(n,te({},e,{windowBodyHeight:e.boxStyle.height-nt.TITLE_BAR_HEIGHT,windowBodyWidth:e.boxStyle.width,active:r,destroy:function(){e.remove(),c.extras.uninstall(c)}})))})),this.id=n,this.name=r,this.icon=o,this.description=a,this.livableZone=s,this.Component=i,this.installed=!1,this.minimized=!1,this.extras=u},at=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;x(this,e),ee(this,"installApp",(function(e,n){var r=t.availableApp(n);r.sid=e,t._activeAppSid=e,t._installedApps.set(e,r),t._availableApps.delete(r.id)})),ee(this,"uninstallApp",(function(e){t._installedApps.delete(e.sid),t._availableApps.set(e.id,e)})),ee(this,"getInstalledApp",(function(e){return t._installedApps.get(e)})),this._availableApps=new Map,this._installedApps=new Map,this._registerApp=this._registerApp.bind(this),this._registerApps(n),this._activeAppSid=""}return b(e,[{key:"_registerApp",value:function(e){var t=this,n=e.id,r=e.name,o=e.icon,i=e.component,a=e.description,s=e.widthRange,c=e.heightRange,u={uninstall:this.uninstallApp,isActive:function(e){return t._activeAppSid===e.sid},active:function(e){t._activeAppSid=e.sid}},l=new it(n,r,o,i,a,ot.create(s,c),u);this._availableApps.set(n,l)}},{key:"_registerApps",value:function(e){e.forEach(this._registerApp)}},{key:"availableApps",value:function(){return Array.from(this._availableApps.values())}},{key:"availableApp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height,r=new rt(t,n);return this.availableApps().find((function(e){return e.canLiveIn(r)}))||this._availableApps.get(Me)}}]),e}(),st="index_slotMachine__29tTB",ct="index_pattern__18CNo",ut="index_pattersWrapper__3rhMA";ce(".index_slotMachine__29tTB {\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n  box-shadow: inset 0 0 5px 1px #c4c4c4;\n  background: #ffffff;\n  z-index: 10; }\n\n.index_pattern__18CNo {\n  display: flex;\n  justify-content: center;\n  align-items: center; }\n\n.index_pattersWrapper__3rhMA {\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s; }\n");var lt=function(e){var n=e.patterns,r=e.luckyPatternId,o=e.size,i={width:o,height:o},a=n.findIndex((function(e){return e.id===r})),s={transform:"translateY(".concat(a*o*-1,"px)")};return t.createElement("div",{style:i,className:st},t.createElement("div",{style:s,className:ut},n.map((function(e){return t.createElement("div",{key:e.id,style:i,className:ct},e.renderer())}))))};function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}lt.propTypes={size:a.number.isRequired,patterns:a.arrayOf(a.shape({id:a.string.isRequired,renderer:a.func.isRequired})),luckyPatternId:a.string.isRequired};var ht=function(e){w(r,e);var n=ft(r);function r(e){var o;return x(this,r),o=n.call(this),ee(P(o),"isDrawingPreviewer",(function(){return o._isPreview})),ee(P(o),"enterPreviewMode",(function(){o._isPreview=!0})),ee(P(o),"exitPreviewMode",(function(){o._isPreview=!1})),ee(P(o),"canRenderApp",(function(e){return!o.availableApp(e).isEmpty()})),ee(P(o),"renderCursorTracker",(function(e,n,r){return t.createElement(Be,{offset:10,fixedPointCoordinate:n.endPos,quadrant:r},e)})),ee(P(o),"renderAvailableAppsLivableZoneEdge",(function(e,t){var n=o.availableApps();return 1===n.length&&n[0].isEmpty()?null:n.map((function(n){return n.renderLivableZoneEdge(e,t)}))})),ee(P(o),"renderClearButton",(function(){return null})),ee(P(o),"renderApp",(function(e){var t={isDrawingPreviewer:o.isDrawingPreviewer()},n=o.getInstalledApp(e.id);return n?n.render(pt(pt({},e),{},{addSitePage:o.addSitePage,addCanvasApp:o._registerApp}),t):null})),ee(P(o),"renderSlotMachine",(function(e){var n=o.availableApps().filter((function(e){return!e.installed})).map((function(e){return{id:e.id,renderer:e.renderIcon}}));return t.createElement(lt,{size:24,luckyPatternId:e.id,patterns:n})})),ee(P(o),"renderAppPreviewer",(function(e){var n,r,i,a,s,c,u,l,d=o.availableApp(e),p=(n=e.startPos,r=e.endPos,i=se(n,2),a=i[0],s=i[1],c=se(r,2),u=c[0],l=c[1],a<u&&s>l?1:a>u&&s>l?2:a>u&&s<l?3:a<u&&s<l?4:void 0);return t.createElement(Re,{cursorQuadrant:p,boxInfo:e,availableApp:d},o.renderCursorTracker(o.renderSlotMachine(d,e),e,p),o.renderAvailableAppsLivableZoneEdge(e,p))})),o.addSitePage=e.addSitePage,o}return r}(at),vt="index_canvasPage__32PEZ";function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}ce(".index_canvasPage__32PEZ {\n  position: relative;\n  cursor: crosshair;\n  height: 100%; }\n  .index_canvasPage__32PEZ * {\n    user-select: none; }\n");var xt=function(e){w(r,e);var n=_t(r);function r(e){var t;x(this,r),t=n.call(this,e);var o=e.addSitePage;return t.canvasAppRenderer=new ht({addSitePage:o}),t}return b(r,[{key:"componentDidMount",value:function(){console.log("mount",this.context)}},{key:"render",value:function(){return t.createElement("div",{className:i(vt)},t.createElement(Y,{onPreviewStart:this.canvasAppRenderer.enterPreviewMode,onPreviewDone:this.canvasAppRenderer.exitPreviewMode,onBeforeAddBox:this.canvasAppRenderer.installApp,boxValidator:this.canvasAppRenderer.canRenderApp,staticBoxRenderer:this.canvasAppRenderer.renderApp,clearButtonRenderer:this.canvasAppRenderer.renderClearButton,previewBoxRenderer:this.canvasAppRenderer.renderAppPreviewer}))}}]),r}(t.PureComponent);e("default",{title:"画布",icon:function(e){return n("svg",G({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),X)},component:xt})}}}));
